<div class="container">
	
	<div class="alert alert-warning" ng-show="vm.directions && vm.drivingDirections">
		<h2>Travel Recommendation</h2>
		<p><b>Transit Time:</b> {{vm.directions.duration.text}}</p>
		<p><b>Driving Time:</b> {{vm.drivingDirections.duration.text}}</p>

		<h4>{{ vm.getRecommendation() }}</h4>
	</div>

	<div class="row">
		<div class="col-lg-3 col-md-3">
			<div class="panel panel-primary">
				<div class="panel-heading">Travel Cams</div>
				<div class="panel-body">

					<div ng-show="vm.cameras.length > 0">
						<select ng-model="vm.selectedCameraCity" class="form-control">
							<option value=""></option>
							<option ng-repeat="(cityName, value) in vm.cameraCities" ng-value="cityName">{{::cityName}}</option>
						</select>
						<hr>

						<div ng-show="vm.selectedCameraCity" ng-repeat="camera in vm.cameras | filter: vm.selectedCameraCity" ng-cloak>
							<a target="_blank" href="{{::camera.tooltipUrl}}">{{::camera.displayName}}</a>
							<hr>
						</div>
					</div>

				</div>
			</div>
		</div>

		<div class="col-lg-3 col-md-3">
			<div class="panel panel-primary">
				<div class="panel-heading">Recent Events</div>
				<div class="panel-body">
					<div ng-repeat="event in vm.events" ng-show="event.RoadwayName" ng-cloak>
						<h2>{{event.RoadwayName}}</h2>
						<p>{{event.Location}}</p>
						<p>Duration: {{event.Description}}</p>
						<p>Last Updated: {{event.LastUpdated}}</p>
						<hr>
					</div>
				</div>
			</div>
		</div>

		<div class="col-lg-3 col-md-3">
			<div class="panel panel-primary">
				<div class="panel-heading">Alerts</div>
				<div class="panel-body">
					<div ng-repeat="alert in vm.alerts" ng-cloak ng-show="vm.alerts.length > 0">
						<p>{{alert.Message}}</p>
						<hr>
					</div>
					<div class="alert alert-warning" ng-show="vm.alerts.length == 0">
						<h4>No alerts at this time</h4>
					</div>
				</div>
			</div>
		</div>

		<div class="col-lg-3 col-md-3">
			<div class="panel panel-primary">
				<div class="panel-heading">Transit Options</div>
				<div class="panel-body">

					<div ng-show="vm.loading" class="alert alert-warning">
						<b>Loading...</b>
					</div>

					<div ng-show="vm.currentLocation">
						<p>Current Location:</p>
						<input type="text" class="form-control" ng-model="vm.currentLocation" readonly>
					</div>

					<div ng-show="vm.currentLocation">
						<p>Enter destination:</p>
						<input type="text" class="form-control" ng-model="vm.destination">
					</div>

					<button ng-disabled="vm.loading" class="btn btn-success" ng-show="!vm.currentLocation" ng-click="vm.getLocation()">Get Location</button>
					<button ng-disabled="vm.loading" class="btn btn-success" ng-click="vm.getDirections()" ng-show="vm.destination && vm.currentLocation">Get Directions</button>

					<div ng-show="vm.directions">
						<hr>
						<table class="table">
							<thead>
								<th>Step</th>
								<th>Duration (min)</th>
							</thead>
							<tbody>
								<tr ng-repeat="step in vm.directions.steps">
									<td>

										<b>{{::step.travel_mode}}</b>
										<p ng-show="step.transit_details">Departs at: {{step.transit_details.departure_time.text}}</p>
										<p>{{step.html_instructions}}</p>
									</td>
									<td>{{step.duration.text}}</td>
								</tr>
							</tbody>
						</table>

						<p><b>Distance:</b> {{vm.directions.distance.text}}</p>
						<p><b>Arrival Time:</b> {{vm.directions.arrival_time.text}}</p>
						<p><b>Total time:</b> {{vm.directions.duration.text}}</p>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>